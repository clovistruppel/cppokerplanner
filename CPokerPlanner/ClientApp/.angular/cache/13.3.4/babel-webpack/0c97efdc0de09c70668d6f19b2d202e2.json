{"ast":null,"code":"import { NameSelectDialog } from \"../name-select-dialog/name-select-dialog.component\";\nimport { FormControl } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/material/button-toggle\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\n\nfunction HomeComponent_b_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"b\", 6)(1, \"mat-button-toggle\", 7);\n    i0.ɵɵlistener(\"click\", function HomeComponent_b_5_Template_mat_button_toggle_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.submit();\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const vote_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", vote_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(vote_r2);\n  }\n}\n\nfunction HomeComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"b\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const player_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(player_r5.vote);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(player_r5.name);\n  }\n}\n\nexport class Player {}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(dialog, http, APIUrl) {\n      this.dialog = dialog;\n      this.http = http;\n      this.APIUrl = APIUrl;\n      this.availableVotes = [\"?\", \"0\", \"1\", \"2\", \"3\", \"5\", \"8\", \"13\"];\n      this.toggleControl = new FormControl('');\n    }\n\n    vote() {\n      let player = new Player();\n      player.name = this.name;\n      player.vote = this.selectedCard;\n      const request = this.http.post(this.APIUrl + \"player\", player);\n      request.subscribe(resp => {});\n    }\n\n    refreshResults() {\n      const request = this.http.get(this.APIUrl + \"player\");\n      request.subscribe(resp => {\n        this.voteList = resp;\n      });\n    }\n\n    openDialog() {\n      const dialogRef = this.dialog.open(NameSelectDialog, {\n        width: '250px',\n        data: {\n          name: this.name\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        console.log('The dialog was closed');\n\n        if (result == undefined) {\n          this.openDialog();\n        }\n\n        this.name = result;\n      });\n    }\n\n    submit() {\n      this.selectedCard = this.toggleControl.value;\n      this.vote();\n    }\n\n    clear() {\n      const request = this.http.get(this.APIUrl + \"player/update\");\n      request.subscribe(resp => {\n        this.voteList = resp;\n      });\n    }\n\n    ngOnInit() {\n      this.openDialog();\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[\"role\", \"img\", \"aria-label\", \"point below\"], [\"name\", \"Cards\", 3, \"formControl\"], [\"class\", \"buttonGroup\", 4, \"ngFor\", \"ngForOf\"], [1, \"voteGroup\"], [\"class\", \"vote\", 4, \"ngFor\", \"ngForOf\"], [\"mat-stroked-button\", \"\", 3, \"click\"], [1, \"buttonGroup\"], [1, \"card\", 3, \"value\", \"click\"], [1, \"vote\"], [1, \"card\"], [\"align\", \"center\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtext(1, \" Choose your card \");\n        i0.ɵɵelementStart(2, \"span\", 0);\n        i0.ɵɵtext(3, \"\\uD83D\\uDC47\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"mat-button-toggle-group\", 1);\n        i0.ɵɵtemplate(5, HomeComponent_b_5_Template, 3, 2, \"b\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\");\n        i0.ɵɵtext(7, \" SEE THE RESULTS\");\n        i0.ɵɵelementStart(8, \"span\", 0);\n        i0.ɵɵtext(9, \"\\uD83D\\uDC47\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 3);\n        i0.ɵɵtemplate(11, HomeComponent_div_11_Template, 6, 2, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_12_listener() {\n          return ctx.refreshResults();\n        });\n        i0.ɵɵtext(13, \"refresh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_14_listener() {\n          return ctx.clear();\n        });\n        i0.ɵɵtext(15, \"Clear\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.toggleControl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.availableVotes);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.voteList);\n      }\n    },\n    directives: [i3.MatButtonToggleGroup, i4.NgControlStatus, i4.FormControlDirective, i5.NgForOf, i3.MatButtonToggle, i6.MatButton],\n    styles: [\".mat-button-toggle[_ngcontent-%COMP%]{width:5rem;height:8rem;border:solid 1px #ccc;color:#000000de;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;position:relative;margin:10px;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-checked[_ngcontent-%COMP%]{width:5rem;height:8rem;border:solid 1px #ccc;background-color:#abbedb;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;position:relative;margin:10px;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.buttonGroup[_ngcontent-%COMP%], .voteGroup[_ngcontent-%COMP%]{display:flex;flex-direction:row}.vote[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px}.card[_ngcontent-%COMP%]{width:5rem;height:8rem;border:solid 1px #ccc;color:#000000de;display:flex;justify-content:center;align-items:center;text-align:center;border-radius:4px;position:relative;margin:10px;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}